"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return RuleBNFNode;
    }
});
const _necessary = require("necessary");
const _nonTerminal = /*#__PURE__*/ _interop_require_default(require("../../node/nonTerminal"));
const _ruleNames = require("../../ruleNames");
const _node = require("../../utilities/node");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const { first, secondLast } = _necessary.arrayUtilities;
class RuleBNFNode extends _nonTerminal.default {
    generateRule(Rule) {
        const name = this.getName(), opacity = this.getOpacity(), definitions = this.generateDefinitions(), rule = Rule.fromNameOpacityAndDefinitions(name, opacity, definitions);
        return rule;
    }
    getOpacity() {
        let opacity = null;
        const ruleName = _ruleNames.OPACITY_MODIFIER_RULE_NAME, childNodes = this.getChildNodes(), opacityModifierBNFNode = (0, _node.nodeFromChildNodesAndRuleName)(childNodes, ruleName);
        if (opacityModifierBNFNode !== null) {
            opacity = opacityModifierBNFNode.getOpacity();
        }
        return opacity;
    }
    getName() {
        const childNodes = this.getChildNodes(), firstChildNode = first(childNodes), nameBNFNode = firstChildNode, name = nameBNFNode.getName();
        return name;
    }
    generateDefinitions() {
        const childNodes = this.getChildNodes(), secondLastChildNode = secondLast(childNodes), definitionsBNFNode = secondLastChildNode, definitions = definitionsBNFNode.generateDefinitions();
        return definitions;
    }
    static fromRuleNameChildNodesOpacityAndPrecedence(ruleName, childNodes, opacity, precedence) {
        return _nonTerminal.default.fromRuleNameChildNodesOpacityAndPrecedence(RuleBNFNode, ruleName, childNodes, opacity, precedence);
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9ub2RlL2JuZi9ydWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBhcnJheVV0aWxpdGllcyB9IGZyb20gXCJuZWNlc3NhcnlcIjtcblxuaW1wb3J0IE5vblRlcm1pbmFsTm9kZSBmcm9tIFwiLi4vLi4vbm9kZS9ub25UZXJtaW5hbFwiO1xuXG5pbXBvcnQgeyBPUEFDSVRZX01PRElGSUVSX1JVTEVfTkFNRSB9IGZyb20gXCIuLi8uLi9ydWxlTmFtZXNcIjtcbmltcG9ydCB7IG5vZGVGcm9tQ2hpbGROb2Rlc0FuZFJ1bGVOYW1lIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9ub2RlXCI7XG5cbmNvbnN0IHsgZmlyc3QsIHNlY29uZExhc3QgfSA9IGFycmF5VXRpbGl0aWVzO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSdWxlQk5GTm9kZSBleHRlbmRzIE5vblRlcm1pbmFsTm9kZSB7XG4gIGdlbmVyYXRlUnVsZShSdWxlKSB7XG4gICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0TmFtZSgpLFxuICAgICAgICAgIG9wYWNpdHkgPSB0aGlzLmdldE9wYWNpdHkoKSxcbiAgICAgICAgICBkZWZpbml0aW9ucyA9IHRoaXMuZ2VuZXJhdGVEZWZpbml0aW9ucygpLFxuICAgICAgICAgIHJ1bGUgPSBSdWxlLmZyb21OYW1lT3BhY2l0eUFuZERlZmluaXRpb25zKG5hbWUsIG9wYWNpdHksIGRlZmluaXRpb25zKTtcblxuICAgIHJldHVybiBydWxlO1xuICB9XG5cbiAgZ2V0T3BhY2l0eSgpIHtcbiAgICBsZXQgb3BhY2l0eSA9IG51bGw7XG5cbiAgICBjb25zdCBydWxlTmFtZSA9IE9QQUNJVFlfTU9ESUZJRVJfUlVMRV9OQU1FLFxuICAgICAgICAgIGNoaWxkTm9kZXMgPSB0aGlzLmdldENoaWxkTm9kZXMoKSxcbiAgICAgICAgICBvcGFjaXR5TW9kaWZpZXJCTkZOb2RlID0gbm9kZUZyb21DaGlsZE5vZGVzQW5kUnVsZU5hbWUoY2hpbGROb2RlcywgcnVsZU5hbWUpO1xuXG4gICAgaWYgKG9wYWNpdHlNb2RpZmllckJORk5vZGUgIT09IG51bGwpIHtcbiAgICAgIG9wYWNpdHkgPSBvcGFjaXR5TW9kaWZpZXJCTkZOb2RlLmdldE9wYWNpdHkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3BhY2l0eTtcbiAgfVxuXG4gIGdldE5hbWUoKSB7XG4gICAgY29uc3QgY2hpbGROb2RlcyA9IHRoaXMuZ2V0Q2hpbGROb2RlcygpLFxuICAgICAgICAgIGZpcnN0Q2hpbGROb2RlID0gZmlyc3QoY2hpbGROb2RlcyksXG4gICAgICAgICAgbmFtZUJORk5vZGUgPSBmaXJzdENoaWxkTm9kZSwgIC8vL1xuICAgICAgICAgIG5hbWUgPSBuYW1lQk5GTm9kZS5nZXROYW1lKCk7XG4gICAgXG4gICAgcmV0dXJuIG5hbWU7XG4gIH1cbiAgXG4gIGdlbmVyYXRlRGVmaW5pdGlvbnMoKSB7XG4gICAgY29uc3QgY2hpbGROb2RlcyA9IHRoaXMuZ2V0Q2hpbGROb2RlcygpLFxuICAgICAgICAgIHNlY29uZExhc3RDaGlsZE5vZGUgPSBzZWNvbmRMYXN0KGNoaWxkTm9kZXMpLFxuICAgICAgICAgIGRlZmluaXRpb25zQk5GTm9kZSA9IHNlY29uZExhc3RDaGlsZE5vZGUsIC8vL1xuICAgICAgICAgIGRlZmluaXRpb25zID0gZGVmaW5pdGlvbnNCTkZOb2RlLmdlbmVyYXRlRGVmaW5pdGlvbnMoKTtcbiAgICBcbiAgICByZXR1cm4gZGVmaW5pdGlvbnM7XG4gIH1cblxuICBzdGF0aWMgZnJvbVJ1bGVOYW1lQ2hpbGROb2Rlc09wYWNpdHlBbmRQcmVjZWRlbmNlKHJ1bGVOYW1lLCBjaGlsZE5vZGVzLCBvcGFjaXR5LCBwcmVjZWRlbmNlKSB7IHJldHVybiBOb25UZXJtaW5hbE5vZGUuZnJvbVJ1bGVOYW1lQ2hpbGROb2Rlc09wYWNpdHlBbmRQcmVjZWRlbmNlKFJ1bGVCTkZOb2RlLCBydWxlTmFtZSwgY2hpbGROb2Rlcywgb3BhY2l0eSwgcHJlY2VkZW5jZSk7IH1cbn1cbiJdLCJuYW1lcyI6WyJSdWxlQk5GTm9kZSIsImZpcnN0Iiwic2Vjb25kTGFzdCIsImFycmF5VXRpbGl0aWVzIiwiTm9uVGVybWluYWxOb2RlIiwiZ2VuZXJhdGVSdWxlIiwiUnVsZSIsIm5hbWUiLCJnZXROYW1lIiwib3BhY2l0eSIsImdldE9wYWNpdHkiLCJkZWZpbml0aW9ucyIsImdlbmVyYXRlRGVmaW5pdGlvbnMiLCJydWxlIiwiZnJvbU5hbWVPcGFjaXR5QW5kRGVmaW5pdGlvbnMiLCJydWxlTmFtZSIsIk9QQUNJVFlfTU9ESUZJRVJfUlVMRV9OQU1FIiwiY2hpbGROb2RlcyIsImdldENoaWxkTm9kZXMiLCJvcGFjaXR5TW9kaWZpZXJCTkZOb2RlIiwibm9kZUZyb21DaGlsZE5vZGVzQW5kUnVsZU5hbWUiLCJmaXJzdENoaWxkTm9kZSIsIm5hbWVCTkZOb2RlIiwic2Vjb25kTGFzdENoaWxkTm9kZSIsImRlZmluaXRpb25zQk5GTm9kZSIsImZyb21SdWxlTmFtZUNoaWxkTm9kZXNPcGFjaXR5QW5kUHJlY2VkZW5jZSIsInByZWNlZGVuY2UiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVdBOzs7ZUFBcUJBOzs7MkJBVFU7b0VBRUg7MkJBRWU7c0JBQ0c7Ozs7OztBQUU5QyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsVUFBVSxFQUFFLEdBQUdDLHlCQUFjO0FBRTdCLE1BQU1ILG9CQUFvQkksb0JBQWU7SUFDdERDLGFBQWFDLElBQUksRUFBRTtRQUNqQixNQUFNQyxPQUFPLElBQUksQ0FBQ0MsT0FBTyxJQUNuQkMsVUFBVSxJQUFJLENBQUNDLFVBQVUsSUFDekJDLGNBQWMsSUFBSSxDQUFDQyxtQkFBbUIsSUFDdENDLE9BQU9QLEtBQUtRLDZCQUE2QixDQUFDUCxNQUFNRSxTQUFTRTtRQUUvRCxPQUFPRTtJQUNUO0lBRUFILGFBQWE7UUFDWCxJQUFJRCxVQUFVO1FBRWQsTUFBTU0sV0FBV0MscUNBQTBCLEVBQ3JDQyxhQUFhLElBQUksQ0FBQ0MsYUFBYSxJQUMvQkMseUJBQXlCQyxJQUFBQSxtQ0FBNkIsRUFBQ0gsWUFBWUY7UUFFekUsSUFBSUksMkJBQTJCLE1BQU07WUFDbkNWLFVBQVVVLHVCQUF1QlQsVUFBVTtRQUM3QztRQUVBLE9BQU9EO0lBQ1Q7SUFFQUQsVUFBVTtRQUNSLE1BQU1TLGFBQWEsSUFBSSxDQUFDQyxhQUFhLElBQy9CRyxpQkFBaUJwQixNQUFNZ0IsYUFDdkJLLGNBQWNELGdCQUNkZCxPQUFPZSxZQUFZZCxPQUFPO1FBRWhDLE9BQU9EO0lBQ1Q7SUFFQUssc0JBQXNCO1FBQ3BCLE1BQU1LLGFBQWEsSUFBSSxDQUFDQyxhQUFhLElBQy9CSyxzQkFBc0JyQixXQUFXZSxhQUNqQ08scUJBQXFCRCxxQkFDckJaLGNBQWNhLG1CQUFtQlosbUJBQW1CO1FBRTFELE9BQU9EO0lBQ1Q7SUFFQSxPQUFPYywyQ0FBMkNWLFFBQVEsRUFBRUUsVUFBVSxFQUFFUixPQUFPLEVBQUVpQixVQUFVLEVBQUU7UUFBRSxPQUFPdEIsb0JBQWUsQ0FBQ3FCLDBDQUEwQyxDQUFDekIsYUFBYWUsVUFBVUUsWUFBWVIsU0FBU2lCO0lBQWE7QUFDNU4ifQ==